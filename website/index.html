<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="airplane accident visualization">
    <meta name="author" content="">
    <link rel="icon" href="img/web-icon.png">

    <title>Castle in the Sky</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">


    <!-- Custom styles for MMMMAAAAAAPPPPPP-->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" media="screen" />

    <link rel="stylesheet" type="text/css" href="xbf/main.css" media="screen" />
    <link rel="stylesheet" href="Xinyuan/css/causeAndPhase.css">
    <link rel="stylesheet" href="xusi/xs_css/style.css">
    <link rel= "stylesheet" type="text/css" href="ruizhao/rz_css/gunviz.css" media= "all">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>

    <script type="text/javascript" src="ruizhao/rz_libraries/dictionary.js"></script>
    <script type="text/javascript" src="ruizhao/rz_libraries/easeljs-0.5.0.min.js"></script>
    <script type="text/javascript" src="ruizhao/rz_libraries/TweenMax.min.js"></script>
    <script type="text/javascript" src="ruizhao/rz_libraries/BezierPlugin.min.js"></script>
    <script type="text/javascript" src="ruizhao/rz_libraries/Tooltip.js"></script>
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-3509031-10']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

    <!--
       <link rel="stylesheet" type="text/css" href="css/flexslider.css" media="screen and (max-device-width: 1024px)" />
       -->

    <!-- Theme CSS -->
    <link href="css/grayscale.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                    <h4 class="modal-title" id="myModalLabel">Accident Narritive</h4>
                </div>
                <div class="modal-body" id = "modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">
                    <i class="fa fa-plane"></i> <span class="light">Airplane</span> accidents
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#about">MH370</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#download">Accidents</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#contact">Causes</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#airplan">Suggestions</a>
                    </li>

                    <li>
                        <a class="page-scroll" href="#about-us">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Intro Header -->
    <header class="intro">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <div class="col-md-10 col-md-offset-1">
                        <br><br><br><br>
                        <h1 class="brand-heading">Damn it! We are going to Crash!</h1>
                        <br><br><br>
                        <p class="intro-text">All over the world, thousands of people died in airplane accidents every year.
                            <br>How can we protect ourselves from such tragedy?</p>
                        <a href="#about" class="btn btn-circle page-scroll">
                            <i class="fa fa-angle-double-down animated"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- About Section -->

    <section id="about">
        <div class="container content-section">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h1 class="brand-heading">About MH370</h1>
                    <br>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <ul class="timeline">
                        <li>
                            <div class="timeline-image">
                                <img class="img-circle img-responsive" src="img/about/1.jpg" alt="">
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-heading">
                                    <br><br>
                                    <h4>March 8, 2014</h4>
                                </div>
                                <div class="timeline-body">
                                    <p class="text-muted">Malaysia Airlines Flight MH370, carrying 239 passengers, vanished on its way from Kuala Lumpur to Beijing.</p>
                                    <p class="text-muted2">Death: <i class="fa fa-male"></i> <i class="fa fa-times"></i> 137,   <i class="fa fa-female"> </i> <i class="fa fa-times"></i> 93, <i class="fa fa-child"></i>  </i> <i class="fa fa-times"></i> 7 </p>
                                </div>
                            </div>
                        </li>
                        <li class="timeline-inverted">
                            <div class="timeline-image">
                                <img class="img-circle img-responsive" src="img/about/3.jpg" alt="">
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-body">
                                    <h4>RESCUE:</h4>
                                    <p class="text-muted">Disappointed by the official investigations, grieving and frustrated relatives of passengers are still scouring the southern Indian Ocean coast for possible evidence that might help to unlock the mystery of their fate.</p>
                                    <p class="text-muted2">“Vulnerable life, gone in light, leaving behind the beloved all in black…”</p>
                                </div>
                            </div>
                            <!--
                            <div class="timeline-body">
                                <iframe width="360" height="202" src="https://www.youtube.com/embed/ZQHl5SmA08A" frameborder="0" allowfullscreen></iframe>
                            </div>
                            -->
                        </li>
                        <li>
                            <div class="timeline-image">
                                <img class="img-circle img-responsive" src="img/about/2.jpg" alt="">
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-body">
                                    <br><br><br>
                                    <p class="text-muted">Prayers from all over the world wishing for bringing MH370 back home safely.</p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

<!--
    <section id="about2" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>About MH370</h2>
                <p>In this part, tell a sad story about <a href="http://www.google.com/">MH370</a>.</p>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/ZQHl5SmA08A" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
    </section>
-->
    <section id="about3" class="container content-section text-center">
        <div id="container">
            <div class="header">
                <h1>STATISTICS OF MALAYSIA AIRLINES FLIGHT 370</h1>
                <br>
                <br>
            </div>

            <div id="peoplebox">
                <span id="peoplecount" onselectstart="return false;">0</span>
                <br>
                <span id="peoplelabel" onselectstart="return false;">PEOPLE DIED ON MH370</span>
            </div>

            <div id="yearsbox">
                <span id="yearscount" onselectstart="return false;">0</span>
                <br>
                <span id="yearlabel" onselectstart="return false;">STOLEN YEARS ON MH370</span>
            </div>

            <img id="questionMark" src="ruizhao/rz_img/questionMark.gif" />

            <div id="c">
                <canvas id="stage" width="940" height="650"></canvas>
                <canvas id="distributionView" width = "940" height="650"></canvas>
                <canvas id="overstage" width="940" height="650"></canvas>
            </div>

            <span class= "leftWhiteLabel percent" id= "pctTop" onselectstart="return false;">0%</span>
            <!--span class= "leftWhiteLabel number" id= "numTop" onselectstart="return false;">0</span-->
            <span class= "leftWhiteLabel filterName" id= "topFilter"></span>

            <!--<button id= "distSwitch" onclick="gunviz.testMouseDown('axismimic')" onmouseover="gunviz.delayMove('axismimic')" onmouseout="gunviz.delayMove('notaxismimic')">+</button>-->

            <hr class="axis" style="top: 346px; border-width: 0px 2px 1px 2px;">
            <hr class="axis" style="top: 350px; border-width: 0px 2px 0px 2px;">
            <span class="axisLabel" style="left: 50px;">AGE 0</span>
            <span class="axisLabel" style="left: 964px;">100</span>

            <div id="distSwitch"></div>

            <span class= "leftWhiteLabel percent" id= "pctBot" onselectstart="return false;">0%</span>
            <!--span class= "leftWhiteLabel number" id= "numBot" onselectstart="return false;">0</span-->
            <span class= "leftWhiteLabel filterName" id= "botFilter"></span>

            <span class= "rightWhiteLabel" id= "topHistLabel"></span>

            <ul id= "menuBox">
                <!--li>
                    <a class="menuTitle" onselectstart="return false;" onclick="gunviz.sortArrays('nofilter')">
                        NO FILTER
                    </a>
                </li-->
                <li>
                    <a data="SEX" class="menuTitle" id="sexes" onselectstart="return false;" onclick="gunviz.sortArrays('', $(this))">
                        SEX
                    </a>
                    <ul id= "Group3" class= "menuGroup">
                        <li id= "maleButton" onclick="gunviz.sortArrays('male', $(this))">MEN</li>
                        <li onclick="gunviz.sortArrays('female', $(this))">WOMEN</li>
                    </ul>
                </li>
                <li>
                    <a data="AGE GROUP" class="menuTitle" id="ages" onselectstart="return false;" onclick="gunviz.sortArrays('', $(this))">
                        AGE GROUP
                    </a>
                    <ul id= "Group4" class= "menuGroup">
                        <li onclick="gunviz.sortArrays('child', $(this))">CHILDREN 0-18</li>
                        <li id= "yadultButton" onclick="gunviz.sortArrays('yadult', $(this))">YOUNG ADULT 0-30</li>
                        <li id= "oadultButton" onclick="gunviz.sortArrays('oadult', $(this))">PEOPLE OVER 30</li>
                    </ul>
                </li>
                <li>
                    <a data="Nation" class="menuTitle" id="nations" onselectstart="return false;" onclick="gunviz.sortArrays('', $(this))">
                        NATION
                    </a>
                    <ul id= "Group5" class= "menuGroup">
                        <li onclick="gunviz.sortArrays('China', $(this))">China</li>
                        <li id= "MalaysiaButton" onclick="gunviz.sortArrays('Malaysia', $(this))">Malaysia</li>
                        <li id= "FranceButton" onclick="gunviz.sortArrays('France', $(this))">France</li>
                        <li id= "RussiaButton" onclick="gunviz.sortArrays('Russia', $(this))">Russia</li>
                        <li id= "AustraliaButton" onclick="gunviz.sortArrays('Australia', $(this))">Australia</li>
                        <li id= "UkraineButton" onclick="gunviz.sortArrays('Ukraine', $(this))">Ukraine</li>
                        <li id= "CanadaButton" onclick="gunviz.sortArrays('Canada', $(this))">Canada</li>
                        <li id= "IndonesiaButton" onclick="gunviz.sortArrays('Indonesia', $(this))">Indonesia</li>
                        <li id= "ItalyButton" onclick="gunviz.sortArrays('Italy', $(this))">Italy</li>
                        <li id= "USAButton" onclick="gunviz.sortArrays('USA', $(this))">USA</li>
                        <li id= "AustriaButton" onclick="gunviz.sortArrays('Austria', $(this))">Austria</li>
                        <li id= "NetherlandsButton" onclick="gunviz.sortArrays('Netherlands', $(this))">Netherlands</li>
                        <li id= "New_ZealandButton" onclick="gunviz.sortArrays('New_Zealand', $(this))">New Zealand</li>
                    </ul>
                </li>
            </ul>

        </div>
    </section>




    <!-- Download Section -->
    <section id="download" class="content-section text-center">
        <div class="download-section-2">
            <div class="container">
                <div class="col-lg-12">
                    <h1>HOW MANY PEOPLE HAVE DIED BECAUSE OF AIRPLANE ACCIDENTS?</h1>
                    <p>The number of people died in Air Crash accidents from 1908 to 2015 is around <font size = "6px" color = "red">105479</font>.<br>
                    The survival rate of passengers on a fatal plane crash is <font size = "6px" color = "red">24%</font>.<br>
                        Recently aviation has been considerably safer;
                        still, <font size = "6px" color = "red">170</font> incidents or so have taken place every year from 2009 to 2015.</p>
                    <a href="#map-page" class="btn btn-default btn-lg">Click to see the Sad World Map <i class="fa fa-plane"></i></a>
                </div>
            </div>
        </div>
    </section>




    <section id="download4" class="mysection container content-section">
            <div id="map-page">
                <div id="map">
                    <svg>
                        <defs>
                            <linearGradient id="originLinkStroke1" spreadMethod="pad">
                                <stop offset="10%" stop-color="#ef3753"></stop>
                                <stop offset="50%" stop-opacity="10%" stop-color="#7887a0"></stop>
                                <stop offset="90%" stop-color="#00d7ed"></stop>
                            </linearGradient>
                            <linearGradient id="originLinkStroke2" spreadMethod="pad">
                                <stop offset="10%" stop-color="#00d7ed"></stop>
                                <stop offset="50%" stop-opacity="10%" stop-color="#7887a0"></stop>
                                <stop offset="90%" stop-color="#ef3753"></stop>
                            </linearGradient>
                            <linearGradient id="asylumLinkStroke1" spreadMethod="pad">
                                <stop offset="10%" stop-color="#ef3753"></stop>
                                <stop offset="50%" stop-opacity="10%" stop-color="#7887a0"></stop>
                                <stop offset="90%" stop-color="#00d7ed"></stop>
                            </linearGradient>
                            <linearGradient id="asylumLinkStroke2" spreadMethod="pad">
                                <stop offset="10%" stop-color="#00d7ed"></stop>
                                <stop offset="50%" stop-opacity="10%" stop-color="#7887a0"></stop>
                                <stop offset="90%" stop-color="#ef3753"></stop>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                <div id="map-timeline">
                    <div id="play-button" class="frame play">
                        <a></a>
                    </div>
                    <svg>
                    </svg>
                </div>
                <div id="map-nav-background">
                </div>
                <div id="map-nav-head">
                    <div id="year-region" class="ppppp">
                        <span id="year"></span>
                        <span id="year-border">&VerticalSeparator;</span>
                        <span id="region"></span>
                    </div>
                    <div id="story-head" class="ppppp"></div>
                </div>
                <div id="map-nav-body" >
                    <div id="stats" >
                        <dl>
                            <dt class="map-nav-title">Accidents Detail</dt>
                            <hr>
                            <!--

                            -->
                            <dt id="peopleNumInAP-mode" class="map-nav-sub-title"></dt>
                            <!-- <dt class="region">WORLD</dt> -->
                            <dd id="peopleNumInAP" class="value-mode-value"></dd>

                            <dt id="top-label" class="map-nav-sub-title"></dt>
                            <dd id="top-values" class="value-mode-value-sub"></dd>

                        </dl>
                    </div>
                </div>
                <div id="world-zoom-button">
                </div>
            </div>

    </section>




    <section id="contact" class="content-section text-center">
        <div class="download-section">
            <div class="container">
                <div class="col-lg-10 col-lg-offset-1">
                    <h2>CAUSES ANALYSIS</h2>
                    <p>The enduring image of a plane crash usually involves an aircraft plummeting to the ground from 30,000 feet and obliterating everyone on board in a terrifying fireball. But don’t be scared. Take one step closer, how do these accidents take place?</p>
                </div>
            </div>
        </div>
    </section>


    <section id="contact" class="container content-section text-center">
        <div class="row">
            <div class="col-md-6"> <div id="sunburst_chart"></div></div>
            <div class="col-md-6"> <div id="sunburst_show"></div></div>
        </div>

    </section>


    <section id="contact" class="container content-section text-center">

        <div class="row">
            <div class="col-md-12">
                <div id="plane_status"></div>
            </div>
            <div class="col-md-12">
                <div id="phase_chart"></div>
            </div>
        </div>
    </section>


    <section id="airplan" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Suggestions Visualization</h2>
                <br><br><br>
                <p>Plane crashes can be catastrophic, but not unsurvivable. Based on the passing experience, we could plan ahead to decrease the risks…</p>
                <br><br><br><br><br><br><br>
            </div>
        </div>
    </section>


    <section id="airplan" class="container content-section text-center">
        <div class="row">
            <h1>Air Accidents by Month</h1>
            <h2>From 1919 to 2014</h2>
            <div class="col-md-5">
                <div id="barchart_month"></div>
                <div id="areachart"></div>
            </div>
            <div class="col-md-7">
                <div id="linechart"></div>
            </div>
        </div>
    </section>

    <section id="airplan" class="container content-section">

        <div class="row">
            <div class = "col-md-3">
                <div class="input-group">
                    <input type="text"  id = "ajax" list="json-datalist" class="form-control" placeholder="Type in airlines">
                    <span class="input-group-btn"><button id="add-airline" class="btn btn-secondary" type="button">Add</button>

					</span>

                    <!--<span class="input-group-btn"><button id="cmp-airline" class="btn btn-secondary" type="button">Compare</button></span>-->
                    <datalist id="json-datalist"></datalist>
                    <!--<button type="button" class="btn btn-secondary" id="add-airline">Add</button>-->
                </div>

            </div>
            <div class="col-md-8">

                <div id = "selected-plane-list">
                    <!--<button type="button" class="btn btn-secondary">Secondary</button>-->
                </div>
            </div>
        </div>

        <div class = "row">
            <div class="col-md-8">
                <div id = "airline-cmp"></div>
            </div>
            <div class="col-md-4">
                <div id = "ranking">

                </div>

            </div>
        </div>


    </section>




    <!-- Team Section -->
    <section id="about-us" class="container content-section text-center">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h1 class="section-heading">Our Amazing Team</h1>
                    <h3 class="section-subheading text-muted">The castle in the sky</h3>
                    <br>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3">
                    <div class="team-member">
                        <img src="img/team/1.jpg" class="img-circle-my " alt="">
                        <br>
                        <h4>Xu Si</h4>
                        <p class="text-muted">MS @EECS</p>
                        <ul class="list-inline social-buttons">
                            <li><a href="#"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="team-member">
                        <img src="img/team/2.jpg" class="img-circle-my" alt="">
                        <br>
                        <h4>Bingfeng Xia</h4>
                        <p class="text-muted">MS @CSE</p>
                        <ul class="list-inline social-buttons">
                            <li><a href="#"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="team-member">
                        <img src="img/team/3.jpg" class="img-circle-my" alt="">
                        <br>
                        <h4>Xinyuan Wang</h4>
                        <p class="text-muted">MS @CSE</p>
                        <ul class="list-inline social-buttons">
                            <li><a href="#"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="team-member">
                        <img src="img/team/4.jpg" class="img-circle-my" alt="">
                        <br>
                        <h4>Rui Zhao</h4>
                        <p class="text-muted">MS @CSE</p>
                        <ul class="list-inline social-buttons">
                            <li><a href="#"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li><a href="#"><i class="fa fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                </div>
            </div>
        </div>
    </section>

    <section id="about-us2" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h1>Contact us</h1>
                <p>Feel free to email us to provide some feedback on our visualization, give us suggestions or new dataset, or just say hi.</p>
                <p><a href="mailto:feedback@castleInTheSky.com">feedback@castleinthesky.com</a>
                </p>
                <ul class="list-inline banner-social-buttons">
                    <li>
                        <a href="" class="btn btn-default btn-lg"><i class="fa fa-twitter fa-fw"></i> <span class="network-name">Twitter</span></a>
                    </li>
                    <li>
                        <a href="" class="btn btn-default btn-lg"><i class="fa fa-github fa-fw"></i> <span class="network-name">Github</span></a>
                    </li>
                    <li>
                        <a href="" class="btn btn-default btn-lg"><i class="fa fa-google-plus fa-fw"></i> <span class="network-name">Google+</span></a>
                    </li>
                </ul>
            </div>
        </div>
    </section>




    <!-- Map Section
    <div id="map"></div>
-->

    <!-- Footer -->
    <footer>
        <div class="container content-section text-center">
            <h2>Copyright &copy; "Damn it, we are going to crash", Final project of CS171 Visualization 2016 @Harvard</h2>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

    <!-- Google Maps API Key - Use your own API key to enable the map feature. More information on the Google Maps API can be found at https://developers.google.com/maps/ -->
    <!--
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRngKslUGJTlibkQ3FkfTxj3Xss1UlZDA&sensor=false"></script>
    -->

    <!-- Theme JavaScript -->
    <script src="js/grayscale.js"></script>



    <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script> -->
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate.min.js"></script>
    <!--
    <script src="js/jquery.autoellipsis.min.js"></script>
    -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/d3.min.js"></script>
    <script src="js/topojson.min.js"></script>
    <script src="js/queue.min.js"></script>
    <script src="js/d3.tip.js"></script>

    <script src="xbf/desktop.js"></script>

    <script src="Xinyuan/js/fisheye.js"></script>
    <script src="Xinyuan/js/causeAndPhase.js"></script>
    <script src="Xinyuan/js/sunburstChart.js"></script>
    <script src="Xinyuan/js/sunburstShow.js"></script>
    <script src="Xinyuan/js/planeStatus.js"></script>
    <script src="Xinyuan/js/phaseChart.js"></script>

    <script src="xusi/xs_js/barchart_month.js"></script>
    <script src="xusi/xs_js/Areachart.js"></script>
    <script src="xusi/xs_js/linecharts.js"></script>
    <script src="xusi/xs_js/Airlines.js"></script>
    <script src="xusi/xs_js/Airline_cmp.js"></script>
    <script src="xusi/xs_js/Allratings.js"></script>
    <script src="xusi/xs_js/jquery.autocomplete.js"></script>
    <script src="xusi/xs_js/queue.v1.min.js"></script>
    <script src="xusi/xs_js/bootstrap.min.js"></script>
    <!-- Load data, create visualizations -->
    <script src="xusi/xs_js/main.js"></script>

    <script type="text/javascript" src="ruizhao/rz_js/gunviz.js"></script>



    <script>
        var periTooltip = periscopic.ui.Tooltip;
        //periTooltip.DEFAULT_STROKE_THICKNESS = 1;
        periTooltip.DEFAULT_STROKE_COLOR = 'rgba(0,0,0,0.2)';
        periTooltip.DEFAULT_RADIUS = 5;
        periTooltip.DEFAULT_TIP_WIDTH = 4;
        periTooltip.DEFAULT_COPY_CLASS = 'tooltipCopy';


        function showList(e) {
            $(this).children("ul").addClass("shownList");
        }

        function hideList() {
            $(this).children("ul").removeClass("shownList");
        }

        function moveOnList(e) {
            e.stopPropagation();
        }

        $("#menuBox > li").hover(showList, hideList).click(hideList).mousemove(moveOnList);

        function stop() {
            createjs.Ticker.removeAllListeners();
            TweenMax.killAll();
        }

        function showCanvas(canvasid) {
            document.getElementById(canvasid).style.display = "block";
        }

        function hideCanvas(canvasid) {
            document.getElementById(canvasid).style.display = "none";
        }

        function exportAndView(canvasid) {
            var data = document.getElementById(canvasid).toDataURL("image/png");
            var screenshot = document.createElement("img");
            screenshot.src = data;
            $(document.body).html(screenshot);
        }

        var activePersonTooltip;

        //declare mouseover delay here so the yearsTooltip has access to it
        var delayWatcher;

        var uiTooltips = (function() {

            var yearsTooltip = new periscopic.ui.Tooltip();

            $("#yearsbox").hover(makeYearsLabel, removeYearsLabel).mousemove(moveOnList);
            $("#questionMark").hover(makeYearsLabel, removeYearsLabel).mousemove(moveOnList);

            function makeYearsLabel(e) {
                clearTimeout(delayWatcher);

                var w = $("#yearsbox").width();
                var h = $("#yearsbox").height();
                var numPpl = $("#peoplecount").html();

                yearsTooltip.copy("We determine the potential lifespans of victims from different countries using data from the World Health Organization.");

                yearsTooltip.horizontal(false)
                    .mirror(false)
                    .copyClass("bigTooltip")
                    .x(w - 10).y(h + 5);

                yearsTooltip.el()
                    .appendTo("#yearsbox");

                yearsTooltip.setTipPosition(1).shrinkWidth(250);

                yearsTooltip.render().position();

                yearsTooltip.el().show();

                e.stopPropagation();
            }

            function removeYearsLabel() {
                yearsTooltip.el().hide();
            }

            var mTooltip = new periscopic.ui.Tooltip();

            mTooltip.horizontal(false)
                .mirror(false)
                .copyClass("methodsTooltip");

            function makeMethods() {
                var w = $("#container").width();
                var h = $("#container").height();

                var div = document.createElement('div');
                div.setAttribute("id", "shadow");
                div.style.backgroundColor = "rgba(20,20,20,0.8)";
                div.style.width = w;
                div.style.height = h;
                div.style.position = "absolute";
                div.style.top = "0px";
                div.style.zIndex = 2;
                document.getElementById("container").appendChild(div);

                mTooltip.el()
                    .appendTo("#container");

                mTooltip.render().position();
                mTooltip.el().show();

                $("#shadow").click(removeMethods);
                mTooltip.el().find('.close').click(removeMethods);
            }

            function removeMethods() {
                mTooltip.el().hide();
                $("#shadow").remove();
            }

            return {
                makeYearsLabel : makeYearsLabel,
                removeYearsLabel : removeYearsLabel,
                makeMethods : makeMethods,
                removeMethods : removeMethods
            }
        }());

    </script>



    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    </script>



</body>

</html>
